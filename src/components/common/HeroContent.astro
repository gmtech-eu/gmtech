---
import heroData from '@data/hero.json';
import fallbackHeroImage from '@images/hero.webp';
import Button from '@ui/Button.astro';
import { Image } from 'astro:assets';

const { title, subtitle, primaryCTA, secondaryCTA, image } = heroData;

let heroImageSrc = fallbackHeroImage;
if (image && 'src' in image && typeof image.src === 'string') {
  const imagePath = image.src.replace('@assets', '/src/assets');
  const imageModule = await import(/* @vite-ignore */ imagePath);
  heroImageSrc = imageModule.default;
}
---

{/* Hero Content */}
<div class="flex flex-col items-center gap-8 lg:flex-row lg:gap-12">
  {/* Left side - Content */}
  <div class="flex-1 space-y-6">
    <div class="text-left">
      <h1 class="block text-3xl text-balance text-slate-800 sm:text-4xl md:text-5xl lg:text-6xl">
        {title}
      </h1>
    </div>

    <div class="text-left">
      <p class="text-lg text-pretty text-slate-700">
        {subtitle}
      </p>
    </div>

    {/* CTA Buttons */}
    <div class="flex flex-col justify-start gap-5 sm:flex-row">
      <Button href={secondaryCTA.href} variant="secondary">{secondaryCTA.text}</Button>
      <Button href={primaryCTA.href} variant="primary">{primaryCTA.text}</Button>
    </div>
  </div>

  {/* Right side - Image */}
  <div class="flex flex-1 justify-center lg:justify-end">
    <Image src={heroImageSrc} alt={image?.alt || 'GMTEC Group'} width={1000} height={1000} class="rounded-3xl" />
  </div>
</div>
